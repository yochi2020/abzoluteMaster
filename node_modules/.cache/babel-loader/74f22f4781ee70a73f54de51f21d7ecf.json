{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute/src/page/admin/Leavelist.js\";\n// import React, { useState, useEffect } from 'react';\n// import Navbar from '../../component/admin/Navbar'\n// import Sidebar from '../../component/admin/Sidebar'\n// import Footer from '../../component/admin/Footer'\n// import Checkadmin from './Checkadmin';\n// import { firestore } from '../../firebase/config'\n// import Leavelist from './Leavelist/Leavelist';\n// const Admin = () => {\n//   const [appove, setAppove] = useState([])\n//   const refAppove = firestore.collection(\"appove\")\n//   const [loading, setLoading] = useState(true)\n//   useEffect(() => {\n//     refAppove.onSnapshot(data => {\n//       let tempArray = []\n//       data.forEach(data => {\n//         tempArray = [\n//           ...tempArray,\n//           {\n//             hr_appove: data.data().hr_appove,\n//             hr_remark: data.data().hr_remark,\n//             leave_appove: data.data().leave_appove,\n//             leave_remark: data.data().leave_remark,\n//             leave_id: data.data().leave_id,\n//             status: data.data().status,\n//             id_appove: data.id\n//           }\n//         ]\n//       })\n//       setAppove(tempArray)\n//       setLoading(false)\n//     })\n//   }, [])\n//   return (\n//     <div>\n//       <Checkadmin />\n//       <Navbar />\n//       <Sidebar />\n//       {/* Content Wrapper. Contains page content */}\n//       <div className=\"content-wrapper\">\n//         {/* Content Header (Page header) */}\n//         <div className=\"content-header\">\n//           <div className=\"container-fluid\">\n//             <div className=\"row mb-2\">\n//             </div>{/* /.row */}\n//           </div>{/* /.container-fluid */}\n//         </div>\n//         {/* /.content-header */}\n//         {/* Main content */}\n//         <div className=\"content\">\n//           <div className=\"container-fluid\">\n//             <div className=\"row\">\n//               <div className=\"col-lg-12\">\n//                 <div className=\"card\">\n//                   <div className=\"card-header \">\n//                     <div className=\"d-flex justify-content-between\">\n//                       <h3 className=\"m-0 text-dark\">รายการลา</h3>\n//                     </div>\n//                   </div>\n//                   <div className=\"card-body table-responsive \">\n//                     <table className=\"table table-hover \">\n//                       <thead className=\"thead-dark \">\n//                         <tr>\n//                           <th scope=\"col\">ชื่อพนักงาน</th>\n//                           <th scope=\"col\">ข้อมูลส่วนตัว</th>\n//                           <th scope=\"col\">วันที่แจ้ง</th>\n//                           <th scope=\"col\">วันที่ลา</th>\n//                           <th scope=\"col\">จำนวนวัน</th>\n//                           <th scope=\"col\">ประเภทการลา</th>\n//                           <th scope=\"col\">เหตุผล</th>\n//                           <th scope=\"col\">สถานะ</th>\n//                           <th scope=\"col\">จัดการ</th>\n//                         </tr>\n//                       </thead>\n//                       <tbody>\n//                         {\n//                           appove.map((data, index) => (\n//                             <Leavelist key={index} data={data}  />\n//                           ))\n//                         }\n//                       </tbody>\n//                       {\n//                         loading ?(\n//                             <tr>\n//                               <td></td>\n//                               <td></td>\n//                               <td><div className=\"spinner-border mx-auto\" style={{width:\"3rem\",height:\"3rem\"}} role=\"status\">\n//                             </div></td>\n//                             </tr>\n//                         )\n//                         : null\n//                       }\n//                     </table>\n//                   </div>\n//                 </div>\n//               </div>\n//               {/* /.col-md-6 */}\n//               {/* /.col-md-6 */}\n//             </div>\n//             {/* /.row */}\n//           </div>\n//           {/* /.container-fluid */}\n//         </div>\n//         {/* /.content */}\n//       </div>\n//       {/* /.content-wrapper */}\n//       {/* Control Sidebar */}\n//       <aside className=\"control-sidebar control-sidebar-dark\">\n//         {/* Control sidebar content goes here */}\n//       </aside>\n//       {/* /.control-sidebar */}\n//       <Footer />\n//     </div>\n//   );\n// };\n// export default Admin;\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../../component/admin/Navbar';\nimport Sidebar from '../../component/admin/Sidebar';\nimport Footer from '../../component/admin/Footer';\nimport Checkadmin from './Checkadmin';\nimport { firestore } from '../../firebase/config';\nimport { MDBDataTableV5 } from 'mdbreact';\nexport default function Leavelist() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState([]);\n  const [appove, setAppove] = useState([]);\n  const [leave, setLeave] = useState([]);\n  const [typeLeave, setTypeLeave] = useState([]);\n  const [quota, setQuota] = useState([]);\n  const refUser = firestore.collection('user');\n  const refAppove = firestore.collection('appove');\n  const refLeave = firestore.collection(\"leave\");\n  const refTypeLeave = firestore.collection(\"type_leave\");\n  const refQuota = firestore.collection(\"quota\");\n  const [datatable, setDatatable] = useState({\n    columns: [{\n      label: 'ชื่อพนักงาน',\n      field: 'name',\n      width: 200\n    }, {\n      label: 'วันที่แจ้ง',\n      field: 'leave_date',\n      width: 200\n    }, {\n      label: 'วันที่ลา',\n      field: 'leave_start',\n      width: 200\n    }, {\n      label: 'จำนวนวัน',\n      field: 'amount',\n      sort: 'asc',\n      width: 2\n    }, {\n      label: 'ประเภทการลา',\n      field: 'type_leave_name',\n      sort: 'asc',\n      width: 5\n    }, {\n      label: 'เหตุผลที่ลา',\n      field: 'reason',\n      sort: 'asc',\n      width: 5\n    }, {\n      label: 'สถานะ',\n      field: 'status',\n      sort: 'asc',\n      width: 5\n    }]\n  });\n  useEffect(() => {\n    const usersubscribe = refUser.onSnapshot(doc => {\n      let tempArrayUser = [];\n      doc.forEach(data => {\n        tempArrayUser = [...tempArrayUser, {\n          uid: data.id,\n          fname: data.data().fname,\n          lname: data.data().lname,\n          name: data.data().name,\n          phone: data.data().phone,\n          user_group: data.data().user_group\n        }];\n      });\n      setUser(tempArrayUser);\n    });\n    const appovesubscribe = refAppove.onSnapshot(doc => {\n      let tempArrayAppove = [];\n      doc.forEach(data => {\n        tempArrayAppove = [...tempArrayAppove, {\n          appoveId: data.id,\n          hr_appove: data.data().hr_appove,\n          hr_remark: data.data().hr_remark,\n          leave_appove: data.data().leave_appove,\n          leave_remark: data.data().leave_remark,\n          leave_id: data.data().leave_id,\n          status: data.data().status\n        }];\n      });\n      setAppove(tempArrayAppove);\n    });\n    const leavesubscribe = refLeave.onSnapshot(doc => {\n      let tempArrayLeave = [];\n      doc.forEach(data => {\n        tempArrayLeave = [...tempArrayLeave, {\n          leaveId: data.id,\n          leave_date: data.data().leave_date,\n          leave_start: data.data().leave_start,\n          reason: data.data().reson,\n          type_leave_id: data.data().type_leave_id,\n          uid: data.data().uid,\n          amount: data.data().amount\n        }];\n      });\n      setLeave(tempArrayLeave);\n    });\n    const typeleavesubscribe = refTypeLeave.onSnapshot(doc => {\n      let tempArrayTypeLeave = [];\n      doc.forEach(data => {\n        tempArrayTypeLeave = [...tempArrayTypeLeave, {\n          typeLeaveId: data.id,\n          type_leave_name: data.data().type_leave_name\n        }];\n      });\n      setTypeLeave(tempArrayTypeLeave);\n    });\n    const quotasubscribe = refQuota.onSnapshot(doc => {\n      let tempArrayQuota = [];\n      doc.forEach(data => {\n        tempArrayQuota = [...tempArrayQuota, {\n          quotaId: data.id,\n          amount: data.data().amount,\n          type_leave_id: data.data().type_leave_id,\n          uid: data.data().uid\n        }];\n      });\n      setQuota(tempArrayQuota);\n      setLoading(false);\n    });\n    console.log(\"ss\");\n    reLoad();\n    return () => {\n      usersubscribe();\n      appovesubscribe();\n      leavesubscribe();\n      typeleavesubscribe();\n      quotasubscribe();\n    };\n  }, [loading]);\n\n  const reLoad = () => {\n    let dataAll = leave;\n    dataAll.forEach((dataLeave, i) => {\n      user.forEach(dataUser => {\n        if (dataLeave.uid === dataUser.uid) {\n          dataAll[i] = { ...dataAll[i],\n            ...dataUser\n          };\n        }\n      });\n      typeLeave.forEach(dataTypeLeave => {\n        if (dataLeave.type_leave_id === dataTypeLeave.typeLeaveId) {\n          dataAll[i] = { ...dataAll[i],\n            type_leave_name: dataTypeLeave.type_leave_name\n          };\n        }\n      });\n      appove.forEach(dataAppove => {\n        let status = '';\n\n        if (dataLeave.leaveId === dataAppove.leave_id) {\n          if (dataAppove.status === '') {\n            status = 'รออนุมัติ';\n            dataAll[i] = { ...dataAll[i],\n              status: dataAppove.status\n            };\n          }\n        }\n      });\n    });\n    setDatatable({ ...datatable,\n      rows: dataAll\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Checkadmin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Checkadmin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"m-0 text-dark\",\n    onClick: () => {\n      console.log(datatable);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 23\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E25\\u0E32\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body table-responsive \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 19\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border mx-auto\",\n    style: {\n      width: \"3rem\",\n      height: \"3rem\"\n    },\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(MDBDataTableV5, {\n    searchBottom: false,\n    hover: true,\n    entriesOptions: [5, 20, 25],\n    entries: 5,\n    pagesAmount: 4,\n    data: datatable,\n    searchTop: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-hover \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-dark \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 27\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1E\\u0E19\\u0E31\\u0E01\\u0E07\\u0E32\\u0E19\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 27\n    }\n  }, \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 27\n    }\n  }, \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E41\\u0E08\\u0E49\\u0E07\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 27\n    }\n  }, \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E25\\u0E32\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 27\n    }\n  }, \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E27\\u0E31\\u0E19\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 27\n    }\n  }, \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E01\\u0E32\\u0E23\\u0E25\\u0E32\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 27\n    }\n  }, \"\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E1C\\u0E25\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 27\n    }\n  }, \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 27\n    }\n  }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"))))))))))), /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"control-sidebar control-sidebar-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute/src/page/admin/Leavelist.js"],"names":["React","useState","useEffect","Navbar","Sidebar","Footer","Checkadmin","firestore","MDBDataTableV5","Leavelist","data","setData","loading","setLoading","user","setUser","appove","setAppove","leave","setLeave","typeLeave","setTypeLeave","quota","setQuota","refUser","collection","refAppove","refLeave","refTypeLeave","refQuota","datatable","setDatatable","columns","label","field","width","sort","usersubscribe","onSnapshot","doc","tempArrayUser","forEach","uid","id","fname","lname","name","phone","user_group","appovesubscribe","tempArrayAppove","appoveId","hr_appove","hr_remark","leave_appove","leave_remark","leave_id","status","leavesubscribe","tempArrayLeave","leaveId","leave_date","leave_start","reason","reson","type_leave_id","amount","typeleavesubscribe","tempArrayTypeLeave","typeLeaveId","type_leave_name","quotasubscribe","tempArrayQuota","quotaId","console","log","reLoad","dataAll","dataLeave","i","dataUser","dataTypeLeave","dataAppove","rows","height"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AAIA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,SAAQC,cAAR,QAA6B,UAA7B;AACA,eAAe,SAASC,SAAT,GAAqB;AAClC,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAeV,QAAQ,CAAC,EAAD,CAA7B;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACa,IAAD,EAAMC,OAAN,IAAed,QAAQ,CAAC,EAAD,CAA7B;AACA,QAAM,CAACe,MAAD,EAAQC,SAAR,IAAmBhB,QAAQ,CAAC,EAAD,CAAjC;AACA,QAAM,CAACiB,KAAD,EAAOC,QAAP,IAAiBlB,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAACmB,SAAD,EAAWC,YAAX,IAAyBpB,QAAQ,CAAC,EAAD,CAAvC;AACA,QA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","sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import Navbar from '../../component/admin/Navbar'\n// import Sidebar from '../../component/admin/Sidebar'\n// import Footer from '../../component/admin/Footer'\n// import Checkadmin from './Checkadmin';\n// import { firestore } from '../../firebase/config'\n// import Leavelist from './Leavelist/Leavelist';\n// const Admin = () => {\n//   const [appove, setAppove] = useState([])\n//   const refAppove = firestore.collection(\"appove\")\n//   const [loading, setLoading] = useState(true)\n//   useEffect(() => {\n//     refAppove.onSnapshot(data => {\n//       let tempArray = []\n//       data.forEach(data => {\n//         tempArray = [\n//           ...tempArray,\n//           {\n//             hr_appove: data.data().hr_appove,\n//             hr_remark: data.data().hr_remark,\n//             leave_appove: data.data().leave_appove,\n//             leave_remark: data.data().leave_remark,\n//             leave_id: data.data().leave_id,\n//             status: data.data().status,\n//             id_appove: data.id\n//           }\n//         ]\n//       })\n//       setAppove(tempArray)\n//       setLoading(false)\n//     })\n//   }, [])\n//   return (\n//     <div>\n//       <Checkadmin />\n//       <Navbar />\n//       <Sidebar />\n//       {/* Content Wrapper. Contains page content */}\n//       <div className=\"content-wrapper\">\n//         {/* Content Header (Page header) */}\n//         <div className=\"content-header\">\n//           <div className=\"container-fluid\">\n//             <div className=\"row mb-2\">\n//             </div>{/* /.row */}\n//           </div>{/* /.container-fluid */}\n//         </div>\n//         {/* /.content-header */}\n//         {/* Main content */}\n//         <div className=\"content\">\n//           <div className=\"container-fluid\">\n//             <div className=\"row\">\n//               <div className=\"col-lg-12\">\n//                 <div className=\"card\">\n//                   <div className=\"card-header \">\n//                     <div className=\"d-flex justify-content-between\">\n//                       <h3 className=\"m-0 text-dark\">รายการลา</h3>\n//                     </div>\n//                   </div>\n//                   <div className=\"card-body table-responsive \">\n\n//                     <table className=\"table table-hover \">\n//                       <thead className=\"thead-dark \">\n//                         <tr>\n//                           <th scope=\"col\">ชื่อพนักงาน</th>\n//                           <th scope=\"col\">ข้อมูลส่วนตัว</th>\n//                           <th scope=\"col\">วันที่แจ้ง</th>\n//                           <th scope=\"col\">วันที่ลา</th>\n//                           <th scope=\"col\">จำนวนวัน</th>\n//                           <th scope=\"col\">ประเภทการลา</th>\n//                           <th scope=\"col\">เหตุผล</th>\n//                           <th scope=\"col\">สถานะ</th>\n//                           <th scope=\"col\">จัดการ</th>\n//                         </tr>\n//                       </thead>\n//                       <tbody>\n//                         {\n//                           appove.map((data, index) => (\n//                             <Leavelist key={index} data={data}  />\n//                           ))\n//                         }\n//                       </tbody>\n//                       {\n//                         loading ?(\n//                             <tr>\n//                               <td></td>\n//                               <td></td>\n//                               <td><div className=\"spinner-border mx-auto\" style={{width:\"3rem\",height:\"3rem\"}} role=\"status\">\n//                             </div></td>\n//                             </tr>\n//                         )\n//                         : null\n//                       }\n//                     </table>\n//                   </div>\n//                 </div>\n//               </div>\n//               {/* /.col-md-6 */}\n//               {/* /.col-md-6 */}\n//             </div>\n//             {/* /.row */}\n//           </div>\n//           {/* /.container-fluid */}\n//         </div>\n//         {/* /.content */}\n//       </div>\n//       {/* /.content-wrapper */}\n//       {/* Control Sidebar */}\n//       <aside className=\"control-sidebar control-sidebar-dark\">\n//         {/* Control sidebar content goes here */}\n//       </aside>\n//       {/* /.control-sidebar */}\n//       <Footer />\n\n\n//     </div>\n//   );\n// };\n\n// export default Admin;\n\n\n\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../../component/admin/Navbar'\nimport Sidebar from '../../component/admin/Sidebar'\nimport Footer from '../../component/admin/Footer'\nimport Checkadmin from './Checkadmin';\nimport { firestore } from '../../firebase/config'\nimport {MDBDataTableV5} from 'mdbreact'\nexport default function Leavelist() {\n  const [data,setData]=useState([])\n  const [loading, setLoading] = useState(true)\n  const [user,setUser]=useState([])\n  const [appove,setAppove]=useState([])\n  const [leave,setLeave]=useState([])\n  const [typeLeave,setTypeLeave]=useState([])\n  const [quota,setQuota]=useState([])\n  const refUser =firestore.collection('user')\n  const refAppove = firestore.collection('appove')\n  const refLeave = firestore.collection(\"leave\")\n  const refTypeLeave = firestore.collection(\"type_leave\")\n  const refQuota = firestore.collection(\"quota\")\n  const [datatable, setDatatable] = useState({\n    columns: [\n      {\n        label: 'ชื่อพนักงาน',\n        field: 'name',\n        width: 200,\n      },\n      {\n        label: 'วันที่แจ้ง',\n        field: 'leave_date',\n        width: 200,\n      },\n      {\n        label: 'วันที่ลา',\n        field: 'leave_start',\n        width: 200,\n      },\n      {\n        label: 'จำนวนวัน',\n        field: 'amount',\n        sort: 'asc',\n        width: 2,\n      },\n      {\n        label: 'ประเภทการลา',\n        field: 'type_leave_name',\n        sort: 'asc',\n        width: 5,\n      },\n      {\n        label: 'เหตุผลที่ลา',\n        field: 'reason',\n        sort: 'asc',\n        width: 5,\n      },\n      {\n        label: 'สถานะ',\n        field: 'status',\n        sort: 'asc',\n        width: 5,\n      }\n    ]\n  });\n  useEffect(()=>{\n    const usersubscribe =refUser.onSnapshot(doc=>{\n      let tempArrayUser = []\n      doc.forEach(data=>{\n        tempArrayUser=[\n          ...tempArrayUser,\n          {\n            uid:data.id,\n            fname:data.data().fname,\n            lname:data.data().lname,\n            name:data.data().name,\n            phone:data.data().phone,\n            user_group:data.data().user_group\n          }\n        ]\n      })\n      setUser(tempArrayUser)\n    })\n\n    const appovesubscribe = refAppove.onSnapshot(doc=>{\n      let tempArrayAppove=[]\n      doc.forEach(data=>{\n        tempArrayAppove=[\n          ...tempArrayAppove,\n          {\n            appoveId:data.id,\n            hr_appove:data.data().hr_appove,\n            hr_remark:data.data().hr_remark,\n            leave_appove:data.data().leave_appove,\n            leave_remark:data.data().leave_remark,\n            leave_id:data.data().leave_id,\n            status:data.data().status\n          }\n        ]\n      })\n      setAppove(tempArrayAppove)\n    })\n\n    const leavesubscribe = refLeave.onSnapshot(doc=>{\n      let tempArrayLeave=[]\n      doc.forEach(data=>{\n        tempArrayLeave=[\n          ...tempArrayLeave,\n          {\n            leaveId:data.id,\n            leave_date:data.data().leave_date,\n            leave_start:data.data().leave_start,\n            reason:data.data().reson,\n            type_leave_id:data.data().type_leave_id,\n            uid:data.data().uid,\n            amount:data.data().amount\n          }\n        ]\n      })\n      setLeave(tempArrayLeave)\n    })\n\n    \n    const typeleavesubscribe =refTypeLeave.onSnapshot(doc=>{\n      let tempArrayTypeLeave=[]\n      doc.forEach(data=>{\n        tempArrayTypeLeave=[\n          ...tempArrayTypeLeave,\n          {\n            typeLeaveId:data.id,\n            type_leave_name:data.data().type_leave_name\n          }\n        ]\n      })\n      setTypeLeave(tempArrayTypeLeave)\n      \n    })\n\n    const quotasubscribe =refQuota.onSnapshot(doc=>{\n      let tempArrayQuota=[]\n      doc.forEach(data=>{\n        tempArrayQuota=[\n          ...tempArrayQuota,\n          {\n            quotaId:data.id,\n            amount:data.data().amount,\n            type_leave_id:data.data().type_leave_id,\n            uid:data.data().uid\n          }\n        ]\n      })\n      setQuota(tempArrayQuota)\n\n      setLoading(false)\n    })\n\n    console.log(\"ss\")\n    reLoad()\n    return (()=>{\n      usersubscribe()\n      appovesubscribe()\n      leavesubscribe()\n      typeleavesubscribe()\n      quotasubscribe()\n    })\n    \n  },[loading])\n\n\n  const reLoad = ()=>{\n    let dataAll = leave\n\n    dataAll.forEach((dataLeave,i)=>{\n      user.forEach(dataUser=>{\n        if(dataLeave.uid===dataUser.uid){\n          dataAll[i]={\n            ...dataAll[i],\n            ...dataUser\n          }\n        }\n      })\n      typeLeave.forEach(dataTypeLeave=>{\n        if(dataLeave.type_leave_id===dataTypeLeave.typeLeaveId){\n          dataAll[i]={\n            ...dataAll[i],\n            type_leave_name:dataTypeLeave.type_leave_name\n          }\n        }\n      })\n\n      appove.forEach(dataAppove=>{\n        let status =''\n        if(dataLeave.leaveId===dataAppove.leave_id){\n          \n          if(dataAppove.status===''){\n            status ='รออนุมัติ'\n            dataAll[i]={\n              ...dataAll[i],\n              status:dataAppove.status\n            }\n          }\n        }\n      })\n    })\n\n    setDatatable({...datatable,rows:dataAll})\n  }\n  return (\n    <div>\n       <Checkadmin />\n      <Navbar />\n      <Checkadmin />\n      <Sidebar />\n      {/* Content Wrapper. Contains page content */}\n      <div className=\"content-wrapper\">\n        {/* Content Header (Page header) */}\n        <div className=\"content-header\">\n          <div className=\"container-fluid\">\n            <div className=\"row mb-2\">\n            </div>{/* /.row */}\n          </div>{/* /.container-fluid */}\n        </div>\n        {/* /.content-header */}\n        {/* Main content */}\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-lg-12\">\n                <div className=\"card\">\n                  <div className=\"card-header \">\n                    <div className=\"d-flex justify-content-between\">\n                      <h3 className=\"m-0 text-dark\" onClick={()=>{console.log(datatable)}}>รายการลา</h3>\n                    </div>\n                  </div>\n                  <div className=\"card-body table-responsive \">\n                    {\n                      loading ? (\n                        <div className=\"spinner-border mx-auto\" style={{ width: \"3rem\", height: \"3rem\" }} role=\"status\">\n\n                        </div>\n                      )\n                        : <MDBDataTableV5 searchBottom={false} hover entriesOptions={[5, 20, 25]}  entries={5} pagesAmount={4} data={datatable} searchTop ></MDBDataTableV5>\n                    }\n                    <table className=\"table table-hover \">\n                      <thead className=\"thead-dark \">\n                        <tr>\n                          <th scope=\"col\">ชื่อพนักงาน</th>\n                          <th scope=\"col\">ข้อมูลส่วนตัว</th>\n                          <th scope=\"col\">วันที่แจ้ง</th>\n                          <th scope=\"col\">วันที่ลา</th>\n                          <th scope=\"col\">จำนวนวัน</th>\n                          <th scope=\"col\">ประเภทการลา</th>\n                          <th scope=\"col\">เหตุผล</th>\n                          <th scope=\"col\">สถานะ</th>\n                          <th scope=\"col\">จัดการ</th>\n                        </tr>\n                      </thead>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              {/* /.col-md-6 */}\n              {/* /.col-md-6 */}\n            </div>\n            {/* /.row */}\n          </div>\n          {/* /.container-fluid */}\n        </div>\n        {/* /.content */}\n      </div>\n      {/* /.content-wrapper */}\n      {/* Control Sidebar */}\n      <aside className=\"control-sidebar control-sidebar-dark\">\n        {/* Control sidebar content goes here */}\n      </aside>\n      {/* /.control-sidebar */}\n      <Footer />\n\n\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}