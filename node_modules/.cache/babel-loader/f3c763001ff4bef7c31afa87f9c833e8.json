{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/admin/Leavelist/Leavelist.js\";\nimport React, { useState, useEffect } from 'react';\nimport { firestore } from '../../../firebase/config';\nexport default function Leavelist(props) {\n  const [appove, setAppove] = useState([]);\n  const [leave, setLeave] = useState([]);\n  const [test, setTest] = useState([]);\n  const refLeave = firestore.collection(\"leave\");\n  const refUser = firestore.collection(\"user\");\n  useEffect(() => {\n    setAppove(props.data);\n\n    if (props.data.status === \"\") {\n      setAppove({ ...props.data,\n        status: \"รออนุมัติ\"\n      });\n    }\n\n    refLeave.onSnapshot(doc => {\n      let tempArrayLeave = [];\n      doc.forEach(data => {\n        tempArrayLeave = [...tempArrayLeave, {\n          amount: data.data().amount,\n          leave_date: data.data().leave_date,\n          leave_start: data.data().leave_start,\n          reson: data.data().reson,\n          type_leave_id: data.data().type_leave_id,\n          uid: data.id\n        }];\n      });\n      setLeave(tempArrayLeave);\n    });\n    return () => {};\n  }, []);\n  var appoveLeave = leave.filter(data => data.uid === appove.leave_id);\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    onClick: () => {\n      console.log(appoveLeave[0].amount);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    onClick: () => {\n      console.log(leave);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \" leave\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, appoveLeave.map((data, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 49\n    }\n  }, data.leave_start))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, appoveLeave.map((data, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 49\n    }\n  }, data.amount))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-pill badge-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, appove.status)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-sm btn-outline-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\")));\n}","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/admin/Leavelist/Leavelist.js"],"names":["React","useState","useEffect","firestore","Leavelist","props","appove","setAppove","leave","setLeave","test","setTest","refLeave","collection","refUser","data","status","onSnapshot","doc","tempArrayLeave","forEach","amount","leave_date","leave_start","reson","type_leave_id","uid","id","appoveLeave","filter","leave_id","console","log","map","index"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {firestore} from '../../../firebase/config'\nexport default function Leavelist(props) {\n    const [appove,setAppove]=useState([])\n    const [leave,setLeave]=useState([])\n    const [test,setTest]=useState([])\n    const refLeave = firestore.collection(\"leave\")\n    const refUser = firestore.collection(\"user\")\n    useEffect(() => {\n\n        setAppove(props.data)\n        if(props.data.status===\"\"){\n            setAppove({...props.data,status:\"รออนุมัติ\"})\n        }\n        refLeave.onSnapshot(doc=>{\n            let tempArrayLeave=[]\n            doc.forEach(data=>{\n                tempArrayLeave=[\n                    ...tempArrayLeave,\n                    {\n                        amount:data.data().amount,\n                        leave_date:data.data().leave_date,\n                        leave_start:data.data().leave_start,\n                        reson:data.data().reson,\n                        type_leave_id:data.data().type_leave_id,\n                        uid:data.id\n                    }\n                ]\n            })\n            setLeave(tempArrayLeave)\n        })\n\n        return () => {\n            \n        }\n        \n    }, [])\n    \n    var appoveLeave =leave.filter(data=>(data.uid===appove.leave_id))\n    return (\n        <tr>\n            <th scope=\"row\" onClick={()=>{console.log(appoveLeave[0].amount)}}></th>\n            <td onClick={()=>{console.log(leave)}}> leave</td>\n            <td>{appoveLeave.map((data,index)=>(<div key={index}>{data.leave_start}</div>))}</td>\n            <td>{appoveLeave.map((data,index)=>(<div key={index}>{data.amount}</div>))}</td>\n            <td>\n                <span className=\"badge badge-pill badge-dark\">{appove.status}</span>\n            </td>\n            <td>\n                <button className=\"btn btn-sm btn-outline-danger\">การอนุมัติ</button>\n            </td>\n        </tr>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}