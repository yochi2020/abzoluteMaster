{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/admin/Checkadmin.js\";\nimport React, { useEffect, useRef } from 'react';\nimport { auth, firestore } from '../../firebase/config';\nimport { useHistory } from 'react-router-dom';\nexport default function Checkadmin() {\n  const history = useHistory();\n  const ref = useRef(firestore.collection(\"user\")).current;\n  useEffect(() => {\n    const authUnsubscibe = auth.onAuthStateChanged(firebaseUser => {\n      if (!!firebaseUser) {\n        ref.doc(firebaseUser.uid).onSnapshot(doc => {\n          if (doc.data()) {\n            if (doc.data().user_group !== 'admin') {\n              if (doc.data().user_group !== 'hr') {} else {\n                history.push(\"/user\");\n              }\n            }\n          }\n        });\n      } else {\n        history.push(\"/\");\n      }\n    });\n    return () => {\n      authUnsubscibe();\n    };\n  }, [ref]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  });\n}","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/admin/Checkadmin.js"],"names":["React","useEffect","useRef","auth","firestore","useHistory","Checkadmin","history","ref","collection","current","authUnsubscibe","onAuthStateChanged","firebaseUser","doc","uid","onSnapshot","data","user_group","push"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAyBC,MAAzB,QAAsC,OAAtC;AACA,SAAQC,IAAR,EAAaC,SAAb,QAA6B,uBAA7B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,eAAe,SAASC,UAAT,GAAsB;AAEjC,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAMG,GAAG,GAAGN,MAAM,CAACE,SAAS,CAACK,UAAV,CAAqB,MAArB,CAAD,CAAN,CAAqCC,OAAjD;AACAT,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMU,cAAc,GAAGR,IAAI,CAACS,kBAAL,CAAyBC,YAAD,IAAgB;AAC3D,UAAG,CAAC,CAACA,YAAL,EAAkB;AACdL,QAAAA,GAAG,CAACM,GAAJ,CAAQD,YAAY,CAACE,GAArB,EAA0BC,UAA1B,CAAqCF,GAAG,IAAE;AACtC,cAAGA,GAAG,CAACG,IAAJ,EAAH,EAAc;AACV,gBAAGH,GAAG,CAACG,IAAJ,GAAWC,UAAX,KAAwB,OAA3B,EAAoC;AAChC,kBAAGJ,GAAG,CAACG,IAAJ,GAAWC,UAAX,KAAwB,IAA3B,EAAgC,CAE/B,CAFD,MAEK;AACDX,gBAAAA,OAAO,CAACY,IAAR,CAAa,OAAb;AACH;AACJ;AACJ;AACJ,SAVD;AAWH,OAZD,MAYK;AACDZ,QAAAA,OAAO,CAACY,IAAR,CAAa,GAAb;AACH;AACJ,KAhBsB,CAAvB;AAiBA,WAAO,MAAI;AACPR,MAAAA,cAAc;AACjB,KAFD;AAGH,GArBQ,EAqBP,CAACH,GAAD,CArBO,CAAT;AAsBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAKH","sourcesContent":["import React,{useEffect, useRef} from 'react';\nimport {auth,firestore} from '../../firebase/config'\nimport { useHistory } from 'react-router-dom'\nexport default function Checkadmin() {\n    \n    const history = useHistory();\n    const ref = useRef(firestore.collection(\"user\")).current;\n    useEffect(()=>{\n        const authUnsubscibe = auth.onAuthStateChanged((firebaseUser)=>{\n            if(!!firebaseUser){\n                ref.doc(firebaseUser.uid).onSnapshot(doc=>{\n                    if(doc.data()){\n                        if(doc.data().user_group!=='admin' ){\n                            if(doc.data().user_group!=='hr'){\n\n                            }else{\n                                history.push(\"/user\")\n                            }\n                        }\n                    }\n                })\n            }else{\n                history.push(\"/\")\n            }\n        })\n        return ()=>{\n            authUnsubscibe();\n        }\n    },[ref])\n    return (\n        <div>\n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}