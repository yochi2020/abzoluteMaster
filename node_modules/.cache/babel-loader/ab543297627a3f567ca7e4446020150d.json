{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute/src/page/admin/Leavetype.js\";\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../../component/admin/Navbar';\nimport Sidebar from '../../component/admin/Sidebar';\nimport Footer from '../../component/admin/Footer';\nimport { firestore } from '../../firebase/config';\nimport Form from './Leavetype/Form';\nimport Leavetype from './Leavetype/Leavetype';\nimport Checkadmin from './Checkadmin';\n\nconst Admin = () => {\n  const [data, setData] = useState(\"\"); //Dat aedit\n\n  const [di, setDi] = useState(\"\"); //Data Id\n\n  const ref = firestore.collection(\"type_leave\");\n  const [dataleave, setDataleave] = useState([]); //แสดงประเภทการลา\n\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let tempDataArray = [];\n      snapshot.forEach(data => {\n        tempDataArray = [...tempDataArray, {\n          id: data.id,\n          type_leave_name: data.data().type_leave_name\n        }];\n      });\n      setDataleave(tempDataArray);\n      setLoading(false);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, [ref]);\n\n  const addHandle = obj => {\n    let tempData = {\n      type_leave_name: obj\n    };\n    ref.add(tempData).then(() => {\n      console.log(\"add success\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const deleteHandle = id => {\n    console.log(\"saf\");\n    ref.doc(id).delete().then(() => {\n      alert(\"ลบข้อมูลเรียบร้อย\");\n    }).catch(err => {\n      alert(\"ไม่สามารถลบข้อมูลได้ กรุณาลองใหม่\", err);\n    });\n  };\n\n  const changeHandle = (id, type_leave_name) => {\n    setData(type_leave_name);\n    setDi(id);\n  };\n\n  const submitHandle = () => {\n    const obj = {\n      type_leave_name: data\n    };\n    ref.doc(di).set(obj).then(() => {\n      console.log(\"edit success\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Checkadmin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"breadcrumb float-sm-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"m-0 text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }\n  }, \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E01\\u0E32\\u0E23\\u0E25\\u0E32\"), /*#__PURE__*/React.createElement(Form, {\n    addData: addHandle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-hover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 27\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 27\n    }\n  }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 23\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border mx-auto\",\n    style: {\n      width: \"3rem\",\n      height: \"3rem\"\n    },\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 35\n    }\n  }))) : null, dataleave.map((item, index) => /*#__PURE__*/React.createElement(Leavetype, {\n    data: item,\n    key: index,\n    delete: () => deleteHandle(item.id),\n    change: (id, obj) => changeHandle(id, obj),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 31\n    }\n  }))))))))))), /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"control-sidebar control-sidebar-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal fade \",\n    id: \"exampleModal2\",\n    tabIndex: -1,\n    \"aria-labelledby\": \"exampleModalLabel\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-dialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"modal-title\",\n    id: \"exampleModalLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }, \"Modal title\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-label\": \"Close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    value: data,\n    onChange: e => {\n      setData(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary\",\n    \"data-dismiss\": \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    \"data-dismiss\": \"modal\",\n    onClick: () => {\n      submitHandle();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, \"Save changes\"))))));\n};\n\nexport default Admin;","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute/src/page/admin/Leavetype.js"],"names":["React","useState","useEffect","Navbar","Sidebar","Footer","firestore","Form","Leavetype","Checkadmin","Admin","data","setData","di","setDi","ref","collection","dataleave","setDataleave","loading","setLoading","unsubscribe","onSnapshot","snapshot","tempDataArray","forEach","id","type_leave_name","addHandle","obj","tempData","add","then","console","log","catch","err","deleteHandle","doc","delete","alert","changeHandle","submitHandle","set","width","height","map","item","index","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Navbar from '../../component/admin/Navbar'\nimport Sidebar from '../../component/admin/Sidebar'\nimport Footer from '../../component/admin/Footer'\nimport { firestore } from '../../firebase/config'\nimport Form from './Leavetype/Form';\nimport Leavetype from './Leavetype/Leavetype'\nimport Checkadmin from './Checkadmin';\nconst Admin = () => {\n  const [data, setData] = useState(\"\"); //Dat aedit\n  const [di, setDi] = useState(\"\") //Data Id\n  const ref = firestore.collection(\"type_leave\");\n  const [dataleave, setDataleave] = useState([]);   //แสดงประเภทการลา\n  const [loading, setLoading] = useState(true)\n  useEffect(() => {\n    const unsubscribe = ref.onSnapshot((snapshot => {\n      let tempDataArray = [];\n      snapshot.forEach(data => {\n        tempDataArray = [\n          ...tempDataArray,\n          {\n            id: data.id,\n            type_leave_name: data.data().type_leave_name\n          }\n        ]\n      })\n      setDataleave(tempDataArray)\n      setLoading(false)\n    }));\n    return () => {\n      unsubscribe()\n    }\n  },[ref])\n  const addHandle = (obj) => {\n    let tempData = {\n      type_leave_name: obj\n    }\n    ref.add(tempData).then(() => {\n      console.log(\"add success\");\n    }).catch(err => { console.log(err) })\n  }\n\n  const deleteHandle = (id) => {\n    console.log(\"saf\")\n    ref\n      .doc(id)\n      .delete()\n      .then(() => {\n        alert(\"ลบข้อมูลเรียบร้อย\");\n      }).catch(err => {\n        alert(\"ไม่สามารถลบข้อมูลได้ กรุณาลองใหม่\", err)\n      })\n  }\n\n  const changeHandle = (id, type_leave_name) => {\n    setData(type_leave_name)\n    setDi(id)\n  }\n  const submitHandle = () => {\n    const obj = {\n      type_leave_name: data\n    }\n    ref.doc(di)\n      .set(obj)\n      .then(() => {\n        console.log(\"edit success\")\n      }).catch(err => { console.log(err) })\n  }\n  return (\n    <div>\n      <Checkadmin />\n      <Navbar />\n      <Sidebar />\n      {/* Content Wrapper. Contains page content */}\n      <div className=\"content-wrapper\">\n        {/* Content Header (Page header) */}\n        <div className=\"content-header\">\n          <div className=\"container-fluid\">\n            <div className=\"row mb-2\">\n              <div className=\"col-sm-6\">\n              </div>{/* /.col */}\n              <div className=\"col-sm-6\">\n                <ol className=\"breadcrumb float-sm-right\">\n                </ol>\n              </div>{/* /.col */}\n            </div>{/* /.row */}\n\n          </div>{/* /.container-fluid */}\n        </div>\n        {/* /.content-header */}\n        {/* Main content */}\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-lg-12\">\n                <div className=\"card\">\n                  <div className=\"card-header \">\n                    <div className=\"d-flex justify-content-between\">\n                      <h3 className=\"m-0 text-dark\">ประเภทการลา</h3>\n                      <Form addData={addHandle} />\n                    </div>\n                  </div>\n                  <div className=\"card-body\">\n                    <table className=\"table table-hover\" >\n                      <thead className=\"thead-dark\">\n                        <tr>\n                          <th scope=\"col\">ชื่อประเภท</th>\n                          <th scope=\"col\">จัดการ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                      {\n                        loading ? (\n                          <tr>\n                              <td></td>\n                              <td><div className=\"spinner-border mx-auto\" style={{width:\"3rem\",height:\"3rem\"}} role=\"status\">\n                              </div></td>\n                            </tr>\n                        ) : null\n                      }\n                        {\n                          dataleave.map((item, index) => (\n                           \n                              <Leavetype data={item} key={index} delete={() => deleteHandle(item.id)} change={(id, obj) => changeHandle(id, obj)} />\n                           \n                          ))\n                        }\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              {/* /.col-md-6 */}\n              {/* /.col-md-6 */}\n            </div>\n            {/* /.row */}\n          </div>\n          {/* /.container-fluid */}\n        </div>\n        {/* /.content */}\n      </div>\n      {/* /.content-wrapper */}\n      {/* Control Sidebar */}\n      <aside className=\"control-sidebar control-sidebar-dark\">\n        {/* Control sidebar content goes here */}\n      </aside>\n      {/* /.control-sidebar */}\n      <Footer />\n      <div className=\"modal fade \" id=\"exampleModal2\" tabIndex={-1} aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">×</span>\n              </button>\n            </div>\n            <div className=\"modal-body\">\n              <input type=\"text\" className=\"form-control\" value={data} onChange={(e) => { setData(e.target.value) }} />\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n              <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={() => { submitHandle() }}>Save changes</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;"]},"metadata":{},"sourceType":"module"}