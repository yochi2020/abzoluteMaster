{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/Login.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { auth, firestore } from '../firebase/config';\nimport { useHistory } from 'react-router-dom';\n\nconst Login = () => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const userRef = useRef(firestore.collection(\"user\")).current;\n  const history = useHistory();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const authUnsubscribe = auth.onAuthStateChanged(firebaseUser => {\n      if (!!firebaseUser) {\n        userRef.doc(firebaseUser.uid).onSnapshot(doc => {\n          if (doc.data().user_group === 'admin') {\n            history.push(\"/leavelist\");\n          } else {\n            history.push(\"/user\");\n          }\n        });\n      }\n    });\n    return () => {\n      authUnsubscribe();\n    };\n  });\n\n  const onEmailLogin = e => {\n    e.preventDefault();\n    auth.signInWithEmailAndPassword(data.email, data.password).then(result => {}).catch(err => {\n      alert(err.code);\n    });\n  };\n\n  return loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border mx-auto\",\n    style: {\n      width: \"3rem\",\n      height: \"3rem\",\n      margin: 'auto;'\n    },\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"../../index2.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 33\n    }\n  }, \"Abzolute\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body login-card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"login-box-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Sign in to start your session\"), /*#__PURE__*/React.createElement(\"form\", {\n    action: \"../../index3.html\",\n    method: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    placeholder: \"Email\",\n    value: data.email,\n    onChange: e => setData({ ...data,\n      email: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fas fa-envelope\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Password\",\n    value: data.password,\n    onChange: e => {\n      setData({ ...data,\n        password: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"fas fa-lock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    onClick: e => {\n      onEmailLogin(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Sign In \")))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"forgot-password.html\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"I forgot my password\")))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/Login.js"],"names":["React","useState","useEffect","useRef","Link","auth","firestore","useHistory","Login","data","setData","email","password","userRef","collection","current","history","loading","setLoading","authUnsubscribe","onAuthStateChanged","firebaseUser","doc","uid","onSnapshot","user_group","push","onEmailLogin","e","preventDefault","signInWithEmailAndPassword","then","result","catch","err","alert","code","width","height","margin","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect,useRef} from 'react';\nimport {Link} from 'react-router-dom'\nimport {auth,firestore} from '../firebase/config'\nimport {useHistory} from 'react-router-dom'\nconst Login = () => {\n  const [data,setData]=useState({email:\"\",password:\"\"})\n  const userRef = useRef(firestore.collection(\"user\")).current;\n  const history = useHistory();\n  const [loading, setLoading] = useState(true)\n\n  useEffect(()=>{\n    const authUnsubscribe = auth.onAuthStateChanged(\n      (firebaseUser)=>{\n        if(!!firebaseUser){\n          userRef.doc(firebaseUser.uid).onSnapshot(doc=>{\n            if(doc.data().user_group==='admin'){\n              history.push(\"/leavelist\")\n            }else{\n              history.push(\"/user\")\n            }\n          })\n        }\n      }\n    )\n\n    return ()=>{\n      authUnsubscribe();\n    }\n  })\n  const onEmailLogin=(e)=>{\n    e.preventDefault()\n    auth.signInWithEmailAndPassword(data.email,data.password)\n    .then(result=>{\n    }).catch(err=>{\n      alert(err.code)\n    })\n  }\n\n    return (\n      loading ? (\n        <div className=\"spinner-border mx-auto\" style={{width:\"3rem\",height:\"3rem\",margin:'auto;'}} role=\"status\"></div>\n      ) : \n      <div className=\"row mt-5\" align=\"center\">\n          <div className=\"col-md-12\">\n          <div className=\"login-box\">\n  <div className=\"login-logo\">\n    <a href=\"../../index2.html\"><b>Abzolute</b></a>\n  </div>\n  {/* /.login-logo */}\n  <div className=\"card\">\n    <div className=\"card-body login-card-body\">\n      <p className=\"login-box-msg\">Sign in to start your session</p>\n      <form action=\"../../index3.html\" method=\"post\">\n        <div className=\"input-group mb-3\">\n          <input type=\"email\" className=\"form-control\" placeholder=\"Email\" value={data.email} onChange={e=>setData({...data,email:e.target.value})}/>\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">\n              <span className=\"fas fa-envelope\" />\n            </div>\n          </div>\n        </div>\n        <div className=\"input-group mb-3\">\n          <input type=\"password\" className=\"form-control\" placeholder=\"Password\" value={data.password} onChange={e=>{setData({...data,password:e.target.value})}} />\n          <div className=\"input-group-append\">\n            <div className=\"input-group-text\">\n              <span className=\"fas fa-lock\" />\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          \n          {/* /.col */}\n          <div className=\"col-12\">\n             \n            <button  className=\"btn btn-primary btn-block\" onClick={(e)=>{onEmailLogin(e)}}>Sign In </button>\n          </div>\n          {/* /.col */}\n        </div>\n      </form>\n      {/* /.social-auth-links */}\n      <p className=\"mb-1\">\n        <Link to =\"forgot-password.html\">I forgot my password</Link>\n      </p>\n    </div>\n    {/* /.login-card-body */}\n  </div>\n</div>\n          </div>\n      </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}