{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/user/Userleave.js\";\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../../component/admin/Footer';\nimport Navbar from '../../component/admin/Navbar';\nimport Sidebar from '../../component/user/Sidebar';\nimport Checkuser from './Checkuser';\nimport Form from './Userleave/Form';\nimport { auth, firestore } from '../../firebase/config';\nimport UserleavelTable from './Userleave/Userleave';\n\nconst Userleave = () => {\n  const [dataLeave, setDataLeaveAppove] = useState([]);\n  useEffect(() => {\n    const unSubscribe = auth.onAuthStateChanged(firebase => {\n      if (!!firebase) {\n        const ref_leave = firestore.collection(\"leave\").where(\"uid\", \"==\", firebase.uid);\n        ref_leave.onSnapshot(doc_leave => {\n          let tempDataArray_leave = [];\n          doc_leave.forEach(data_leave => {\n            tempDataArray_leave = [...tempDataArray_leave, {\n              leave_date: data_leave.data().leave_date,\n              leave_start: data_leave.data().leave_start,\n              reson: data_leave.data().reson,\n              type_leave_id: data_leave.data().type_leave_id,\n              amount: data_leave.data().amount,\n              leave_id: data_leave.id\n            }]; // const ref_appove = firestore.collection(\"appove\").where(\"leave_id\", \"==\", data_leave.id)\n            // ref_appove.onSnapshot(doc_appove => {\n            //   let tempDataArray=[]\n            //   doc_appove.forEach(data_appove => {\n            //     tempDataArray = [\n            //       ...tempDataArray,\n            //       {\n            //         uid:firebase.uid,\n            //         appove:data_appove.data().id,\n            //         hr_appove:data_appove.data().hr_appove,\n            //         hr_remark:data_appove.data().hr_appove,\n            //         leave_appove:data_appove.data().leave_appove,\n            //         leave_remark:data_appove.data().leave_remark,\n            //         appove_id:data_appove.id\n            //       }\n            //     ]\n            //     setDataAppove(tempDataArray)\n            //     // setDataLeaveAppove({\n            //     //   ...dataLeave,uid:firebase.uid,\n            //     //   appove:data_appove.data().id,\n            //     //   hr_appove:data_appove.data().hr_appove,\n            //     //   hr_remark:data_appove.data().hr_appove,\n            //     //   leave_appove:data_appove.data().leave_appove,\n            //     //   leave_remark:data_appove.data().leave_remark,\n            //     //   appove_id:data_appove.id\n            //     // })\n            //   })\n            // })\n          });\n          setDataLeaveAppove(tempDataArray_leave);\n        });\n      }\n    });\n    return () => {\n      unSubscribe();\n    };\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Checkuser, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Userleave;\n{\n  /* Content Wrapper. Contains page content */\n}\n\n/*#__PURE__*/\nReact.createElement(\"div\", {\n  className: \"content-wrapper\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"content-header\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"container-fluid\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row mb-2\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 13\n  }\n}))), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"content\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"container-fluid\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 11\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"row\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"col-lg-12\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 15\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"card\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"card-header \",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 19\n  }\n})))))));\n{\n  /* /.content-wrapper */\n}\n{\n  /* Control Sidebar */\n}\n\n/*#__PURE__*/\nReact.createElement(\"aside\", {\n  className: \"control-sidebar control-sidebar-dark\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 7\n  }\n});\n{\n  /* /.control-sidebar */\n}","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/page/user/Userleave.js"],"names":["React","useEffect","useState","Footer","Navbar","Sidebar","Checkuser","Form","auth","firestore","UserleavelTable","Userleave","dataLeave","setDataLeaveAppove","unSubscribe","onAuthStateChanged","firebase","ref_leave","collection","where","uid","onSnapshot","doc_leave","tempDataArray_leave","forEach","data_leave","leave_date","data","leave_start","reson","type_leave_id","amount","leave_id","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Footer from '../../component/admin/Footer';\nimport Navbar from '../../component/admin/Navbar';\nimport Sidebar from '../../component/user/Sidebar';\nimport Checkuser from './Checkuser';\nimport Form from './Userleave/Form';\nimport { auth, firestore } from '../../firebase/config'\nimport UserleavelTable from './Userleave/Userleave'\nconst Userleave = () => {\n  const [dataLeave, setDataLeaveAppove] = useState([])\n\n  useEffect(() => {\n    const unSubscribe = auth.onAuthStateChanged((firebase) => {\n      if (!!firebase) {\n        const ref_leave = firestore.collection(\"leave\").where(\"uid\", \"==\", firebase.uid)\n        ref_leave.onSnapshot(doc_leave => {\n          let tempDataArray_leave = [];\n          doc_leave.forEach(data_leave => {\n            tempDataArray_leave = [\n              ...tempDataArray_leave,\n              {\n              leave_date:data_leave.data().leave_date,\n              leave_start:data_leave.data().leave_start,\n              reson:data_leave.data().reson,\n              type_leave_id:data_leave.data().type_leave_id,\n              amount:data_leave.data().amount,\n              leave_id:data_leave.id\n              }\n            ]\n\n            // const ref_appove = firestore.collection(\"appove\").where(\"leave_id\", \"==\", data_leave.id)\n            // ref_appove.onSnapshot(doc_appove => {\n            //   let tempDataArray=[]\n            //   doc_appove.forEach(data_appove => {\n            //     tempDataArray = [\n            //       ...tempDataArray,\n            //       {\n            //         uid:firebase.uid,\n            //         appove:data_appove.data().id,\n            //         hr_appove:data_appove.data().hr_appove,\n            //         hr_remark:data_appove.data().hr_appove,\n            //         leave_appove:data_appove.data().leave_appove,\n            //         leave_remark:data_appove.data().leave_remark,\n            //         appove_id:data_appove.id\n            //       }\n            //     ]\n              \n            //     setDataAppove(tempDataArray)\n            //     // setDataLeaveAppove({\n            //     //   ...dataLeave,uid:firebase.uid,\n            //     //   appove:data_appove.data().id,\n            //     //   hr_appove:data_appove.data().hr_appove,\n            //     //   hr_remark:data_appove.data().hr_appove,\n            //     //   leave_appove:data_appove.data().leave_appove,\n            //     //   leave_remark:data_appove.data().leave_remark,\n            //     //   appove_id:data_appove.id\n            //     // })\n\n            //   })\n\n            // })\n          })\n          setDataLeaveAppove(tempDataArray_leave)\n\n        })\n\n      }\n      \n    })\n    return () => {\n      unSubscribe()\n    }\n  })\n\n  return (\n    <div>\n      <Checkuser />\n      <Navbar />\n      <Sidebar />\n     \n      <Footer />\n    </div >\n  );\n};\n\nexport default Userleave; {/* Content Wrapper. Contains page content */}\n      <div className=\"content-wrapper\">\n        {/* Content Header (Page header) */}\n        <div className=\"content-header\">\n          <div className=\"container-fluid\">\n            <div className=\"row mb-2\">\n            </div>{/* /.row */}\n          </div>{/* /.container-fluid */}\n        </div>\n        {/* /.content-header */}\n        {/* Main content */}\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-lg-12\">\n                <div className=\"card\">\n                  <div className=\"card-header \">\n                    \n                   \n                  </div>\n                </div>\n              </div>\n              {/* /.col-md-6 */}\n              {/* /.col-md-6 */}\n            </div>\n            {/* /.row */}\n          </div>\n          {/* /.container-fluid */}\n        </div>\n        {/* /.content */}\n      </div>\n      {/* /.content-wrapper */}\n      {/* Control Sidebar */}\n      <aside className=\"control-sidebar control-sidebar-dark\">\n        {/* Control sidebar content goes here */}\n      </aside>\n      {/* /.control-sidebar */}"]},"metadata":{},"sourceType":"module"}