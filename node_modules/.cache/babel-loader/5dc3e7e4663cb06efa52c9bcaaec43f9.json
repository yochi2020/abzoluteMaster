{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute/src/page/admin/Employee.js\";\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../../component/admin/Footer';\nimport Navbar from '../../component/admin/Navbar';\nimport Sidebar from '../../component/admin/Sidebar';\nimport Checkadmin from './Checkadmin';\nimport Form from './Employee/Form';\nimport Userlist from './Employee/Employee';\nimport { firestore } from '../../firebase/config';\nimport axios from 'axios';\nimport $ from 'jquery';\nimport ReactDatatable from '@ashvin27/react-datatable';\n\nfunction Employee() {\n  const ref = firestore.collection(\"user\");\n  const [user, setUser] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [columns, setColumns] = useState([{\n    columns: [{\n      key: \"name\",\n      text: \"Name\",\n      className: \"name\",\n      sortable: true\n    }, {\n      key: \"address\",\n      text: \"Address\",\n      sortable: true\n    }, {\n      key: \"postcode\",\n      text: \"Postcode\",\n      className: \"postcode\",\n      sortable: true\n    }, {\n      key: \"rating\",\n      text: \"Rating\",\n      className: \"rating\",\n      sortable: true\n    }, {\n      key: \"type_of_food\",\n      text: \"Type of Food\",\n      className: \"type_of_food\",\n      sortable: true\n    }, {\n      key: \"action\",\n      text: \"Action\",\n      cell: (record, index) => {\n        return /*#__PURE__*/React.createElement(Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-primary btn-sm\",\n          onClick: this.editRecord.bind(this, record, index),\n          style: {\n            marginRight: '5px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }\n        }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger btn-sm\",\n          onClick: this.deleteRecord.bind(this, record, index),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }\n        }, \"Delete\"));\n      }\n    }]\n  }]);\n  useEffect(() => {\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let tempDataArray = [];\n      snapshot.forEach(doc => {\n        tempDataArray = [...tempDataArray, {\n          email: doc.data().email,\n          fname: doc.data().fname,\n          lname: doc.data().lname,\n          name: doc.data().name,\n          phone: doc.data().phone,\n          uid: doc.id,\n          user_group: doc.data().user_group\n        }];\n      });\n      setUser(() => tempDataArray);\n      setLoading(false);\n    });\n    return () => {};\n  });\n\n  const deleteHandle = uid => {\n    let obj = {\n      uid\n    };\n    axios.post(\"http://localhost:4000/deleteuser\", obj).then(async uid => {\n      const refUser = firestore.collection(\"user\").doc(uid.data);\n      const refQuota = firestore.collection(\"quota\").where(uid, \"==\", uid.data);\n      await refUser.delete();\n      refQuota.get().delete().then(() => {\n        console.log(\"delete success\");\n      });\n    });\n  };\n\n  const test = () => {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Checkadmin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"m-0 text-dark\",\n    onClick: () => console.log(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 23\n    }\n  }, \"\\u0E1E\\u0E19\\u0E31\\u0E01\\u0E07\\u0E32\\u0E19\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body table-responsive \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ReactDatatable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"table\", {\n    id: \"myTable\",\n    className: \"table table-hover \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-dark \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    class: \"test\",\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 27\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1E\\u0E19\\u0E31\\u0E01\\u0E07\\u0E32\\u0E19\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 27\n    }\n  }, \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E25\\u0E48\\u0E19\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 27\n    }\n  }, \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 27\n    }\n  }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 23\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border mx-auto\",\n    style: {\n      width: \"3rem\",\n      height: \"3rem\"\n    },\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 35\n    }\n  }))) : null, user.map((item, index) => /*#__PURE__*/React.createElement(Userlist, {\n    key: index,\n    data: item,\n    delete: () => deleteHandle(item.uid),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }))))))))))), /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"control-sidebar control-sidebar-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Employee;\n$(document).ready(() => {\n  $(\".test\").click(() => {\n    alert(\"ddd\");\n  });\n});","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute/src/page/admin/Employee.js"],"names":["React","useEffect","useState","Footer","Navbar","Sidebar","Checkadmin","Form","Userlist","firestore","axios","$","ReactDatatable","Employee","ref","collection","user","setUser","loading","setLoading","columns","setColumns","key","text","className","sortable","cell","record","index","editRecord","bind","marginRight","deleteRecord","unsubscribe","onSnapshot","snapshot","tempDataArray","forEach","doc","email","data","fname","lname","name","phone","uid","id","user_group","deleteHandle","obj","post","then","refUser","refQuota","where","delete","get","console","log","test","width","height","map","item","document","ready","click","alert"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,OAAP,MAAoB,+BAApB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAe,QAAf;AACA,OAAOC,cAAP,MAA2B,2BAA3B;;AACA,SAASC,QAAT,GAAoB;AAClB,QAAMC,GAAG,GAAGL,SAAS,CAACM,UAAV,CAAqB,MAArB,CAAZ;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACkB,OAAD,EAASC,UAAT,IAAqBnB,QAAQ,CAAC,CAAC;AACnCkB,IAAAA,OAAO,EAAC,CACN;AACEE,MAAAA,GAAG,EAAE,MADP;AAEEC,MAAAA,IAAI,EAAE,MAFR;AAGEC,MAAAA,SAAS,EAAE,MAHb;AAIEC,MAAAA,QAAQ,EAAE;AAJZ,KADM,EAOR;AACIH,MAAAA,GAAG,EAAE,SADT;AAEIC,MAAAA,IAAI,EAAE,SAFV;AAGIE,MAAAA,QAAQ,EAAE;AAHd,KAPQ,EAYR;AACIH,MAAAA,GAAG,EAAE,UADT;AAEIC,MAAAA,IAAI,EAAE,UAFV;AAGIC,MAAAA,SAAS,EAAE,UAHf;AAIIC,MAAAA,QAAQ,EAAE;AAJd,KAZQ,EAkBR;AACIH,MAAAA,GAAG,EAAE,QADT;AAEIC,MAAAA,IAAI,EAAE,QAFV;AAGIC,MAAAA,SAAS,EAAE,QAHf;AAIIC,MAAAA,QAAQ,EAAE;AAJd,KAlBQ,EAwBR;AACIH,MAAAA,GAAG,EAAE,cADT;AAEIC,MAAAA,IAAI,EAAE,cAFV;AAGIC,MAAAA,SAAS,EAAE,cAHf;AAIIC,MAAAA,QAAQ,EAAE;AAJd,KAxBQ,EA8BR;AACIH,MAAAA,GAAG,EAAE,QADT;AAEIC,MAAAA,IAAI,EAAE,QAFV;AAGIG,MAAAA,IAAI,EAAE,CAACC,MAAD,EAASC,KAAT,KAAmB;AACrB,4BACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AACI,UAAA,SAAS,EAAC,wBADd;AAEI,UAAA,OAAO,EAAE,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,EAA2BH,MAA3B,EAAmCC,KAAnC,CAFb;AAGI,UAAA,KAAK,EAAE;AAACG,YAAAA,WAAW,EAAE;AAAd,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAOI;AACI,UAAA,SAAS,EAAC,uBADd;AAEI,UAAA,OAAO,EAAE,KAAKC,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,EAA6BH,MAA7B,EAAqCC,KAArC,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,CADJ;AAeH;AAnBL,KA9BQ;AAD2B,GAAD,CAAD,CAAnC;AAyDA3B,EAAAA,SAAS,CAAC,MAAM;AAGd,UAAMgC,WAAW,GAAGnB,GAAG,CAACoB,UAAJ,CAAeC,QAAQ,IAAI;AAC7C,UAAIC,aAAa,GAAG,EAApB;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiBC,GAAG,IAAI;AACtBF,QAAAA,aAAa,GAAG,CACd,GAAGA,aADW,EAEd;AACEG,UAAAA,KAAK,EAAED,GAAG,CAACE,IAAJ,GAAWD,KADpB;AAEEE,UAAAA,KAAK,EAAEH,GAAG,CAACE,IAAJ,GAAWC,KAFpB;AAGEC,UAAAA,KAAK,EAAEJ,GAAG,CAACE,IAAJ,GAAWE,KAHpB;AAIEC,UAAAA,IAAI,EAAEL,GAAG,CAACE,IAAJ,GAAWG,IAJnB;AAKEC,UAAAA,KAAK,EAAEN,GAAG,CAACE,IAAJ,GAAWI,KALpB;AAMEC,UAAAA,GAAG,EAAEP,GAAG,CAACQ,EANX;AAOEC,UAAAA,UAAU,EAAET,GAAG,CAACE,IAAJ,GAAWO;AAPzB,SAFc,CAAhB;AAYD,OAbD;AAcA9B,MAAAA,OAAO,CAAC,MAAImB,aAAL,CAAP;AACAjB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAlBmB,CAApB;AAmBA,WAAO,MAAM,CACZ,CADD;AAED,GAxBQ,CAAT;;AA2BA,QAAM6B,YAAY,GAAIH,GAAD,IAAS;AAC5B,QAAII,GAAG,GAAC;AACNJ,MAAAA;AADM,KAAR;AAIAnC,IAAAA,KAAK,CAACwC,IAAN,CAAW,kCAAX,EAA8CD,GAA9C,EACCE,IADD,CACM,MAAON,GAAP,IAAa;AACjB,YAAMO,OAAO,GAAG3C,SAAS,CAACM,UAAV,CAAqB,MAArB,EAA6BuB,GAA7B,CAAiCO,GAAG,CAACL,IAArC,CAAhB;AACA,YAAMa,QAAQ,GAAG5C,SAAS,CAACM,UAAV,CAAqB,OAArB,EAA8BuC,KAA9B,CAAoCT,GAApC,EAAwC,IAAxC,EAA6CA,GAAG,CAACL,IAAjD,CAAjB;AACA,YAAMY,OAAO,CAACG,MAAR,EAAN;AACAF,MAAAA,QAAQ,CAACG,GAAT,GAAeD,MAAf,GAAwBJ,IAAxB,CAA6B,MAAI;AAC/BM,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACD,OAFD;AAGD,KARD;AASD,GAdD;;AAiBA,QAAMC,IAAI,GAAG,MAAI,CAEhB,CAFD;;AAGA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAKE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAFF,eAUE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,eAAd;AAA8B,IAAA,OAAO,EAAE,MAAIF,OAAO,CAACC,GAAR,CAAY1C,IAAZ,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADF,eAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CADF,eAOE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEE;AAAO,IAAA,EAAE,EAAC,SAAV;AAAoB,IAAA,SAAS,EAAC,oBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAC,MAAX;AAAmB,IAAA,KAAK,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0EADF,eAEE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDAFF,eAGE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sFAHF,eAIE;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAJF,CADF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIE,OAAO,gBACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAwC,IAAA,KAAK,EAAE;AAAC0C,MAAAA,KAAK,EAAC,MAAP;AAAcC,MAAAA,MAAM,EAAC;AAArB,KAA/C;AAA6E,IAAA,IAAI,EAAC,QAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAHF,CADK,GAOH,IATR,EAYI7C,IAAI,CAAC8C,GAAL,CAAS,CAACC,IAAD,EAAOnC,KAAP,kBACP,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,KAAf;AAAsB,IAAA,IAAI,EAAEmC,IAA5B;AAAkC,IAAA,MAAM,EAAE,MAAMf,YAAY,CAACe,IAAI,CAAClB,GAAN,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAZJ,CATF,CAFF,CAPF,CADF,CADF,CADF,CADF,CAVF,CALF,eAqEE;AAAO,IAAA,SAAS,EAAC,sCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArEF,eAyEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzEF,CADF;AA6ED;;AAED,eAAehC,QAAf;AAEAF,CAAC,CAACqD,QAAD,CAAD,CAAYC,KAAZ,CAAkB,MAAI;AACpBtD,EAAAA,CAAC,CAAC,OAAD,CAAD,CAAWuD,KAAX,CAAiB,MAAI;AAEnBC,IAAAA,KAAK,CAAC,KAAD,CAAL;AACD,GAHD;AAID,CALD","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Footer from '../../component/admin/Footer';\nimport Navbar from '../../component/admin/Navbar';\nimport Sidebar from '../../component/admin/Sidebar';\nimport Checkadmin from './Checkadmin';\nimport Form from './Employee/Form';\nimport Userlist from './Employee/Employee'\nimport { firestore } from '../../firebase/config'\nimport axios from 'axios'\nimport $  from 'jquery'\nimport ReactDatatable from '@ashvin27/react-datatable';\nfunction Employee() {\n  const ref = firestore.collection(\"user\");\n  const [user, setUser] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [columns,setColumns]=useState([{\n    columns:[\n      {\n        key: \"name\",\n        text: \"Name\",\n        className: \"name\",\n        sortable: true\n    },\n    {\n        key: \"address\",\n        text: \"Address\",\n        sortable: true\n    },\n    {\n        key: \"postcode\",\n        text: \"Postcode\",\n        className: \"postcode\",\n        sortable: true\n    },\n    {\n        key: \"rating\",\n        text: \"Rating\",\n        className: \"rating\",\n        sortable: true\n    },\n    {\n        key: \"type_of_food\",\n        text: \"Type of Food\",\n        className: \"type_of_food\",\n        sortable: true\n    },\n    {\n        key: \"action\",\n        text: \"Action\",\n        cell: (record, index) => {\n            return (\n                <Fragment>\n                    <button\n                        className=\"btn btn-primary btn-sm\"\n                        onClick={this.editRecord.bind(this, record, index)}\n                        style={{marginRight: '5px'}}>\n                            Edit\n                    </button>\n                    <button \n                        className=\"btn btn-danger btn-sm\" \n                        onClick={this.deleteRecord.bind(this, record, index)}>\n                            Delete\n                    </button>\n                </Fragment>\n            );\n        }\n    }\n\n    ]\n  }])\n  \n    \n  useEffect(() => {\n\n    \n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let tempDataArray = [];\n      snapshot.forEach(doc => {\n        tempDataArray = [\n          ...tempDataArray,\n          {\n            email: doc.data().email,\n            fname: doc.data().fname,\n            lname: doc.data().lname,\n            name: doc.data().name,\n            phone: doc.data().phone,\n            uid: doc.id,\n            user_group: doc.data().user_group\n          }\n        ];\n      })\n      setUser(()=>tempDataArray)\n      setLoading(false)\n    })\n    return () => {\n    };\n  });\n\n\n  const deleteHandle = (uid) => {\n    let obj={\n      uid\n    }\n\n    axios.post(\"http://localhost:4000/deleteuser\",obj)\n    .then(async (uid)=>{\n      const refUser = firestore.collection(\"user\").doc(uid.data)\n      const refQuota = firestore.collection(\"quota\").where(uid,\"==\",uid.data)\n      await refUser.delete()\n      refQuota.get().delete().then(()=>{\n        console.log(\"delete success\")\n      })\n    })\n  }\n\n\n  const test = ()=>{\n\n  }\n  return (\n    <div>\n      <Checkadmin />\n      <Navbar />\n      <Sidebar />\n      {/* Content Wrapper. Contains page content */}\n      <div className=\"content-wrapper\">\n        {/* Content Header (Page header) */}\n        <div className=\"content-header\">\n          <div className=\"container-fluid\">\n            <div className=\"row mb-2\">\n            </div>{/* /.row */}\n          </div>{/* /.container-fluid */}\n        </div>\n        {/* /.content-header */}\n        {/* Main content */}\n        <div className=\"content\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-lg-12\">\n                <div className=\"card\">\n                  <div className=\"card-header \">\n                    <div className=\"d-flex justify-content-between\">\n                      <h3 className=\"m-0 text-dark\" onClick={()=>console.log(user)}>พนักงาน</h3>\n                      <Form />\n                    </div>\n                  </div>\n                  <div className=\"card-body table-responsive \">\n                  <ReactDatatable/>\n                    <table id=\"myTable\" className=\"table table-hover \">\n                      <thead className=\"thead-dark \">\n                        <tr>\n                          <th  class=\"test\"  scope=\"col\">ชื่อพนักงาน</th>\n                          <th scope=\"col\">ชื่อเล่น</th>\n                          <th scope=\"col\">ข้อมูลส่วนตัว</th>\n                          <th scope=\"col\">จัดการ</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {\n                          loading ? (\n                            <tr>\n                              <td></td>\n                              <td></td>\n                              <td><div className=\"spinner-border mx-auto\" style={{width:\"3rem\",height:\"3rem\"}} role=\"status\">\n                              </div></td>\n                            </tr>\n                          ) : null\n                        }\n                        {\n                          user.map((item, index) => (\n                            <Userlist key={index} data={item} delete={() => deleteHandle(item.uid)} />\n                          ))\n                        }\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n              {/* /.col-md-6 */}\n              {/* /.col-md-6 */}\n            </div>\n            {/* /.row */}\n          </div>\n          {/* /.container-fluid */}\n        </div>\n        {/* /.content */}\n      </div>\n      {/* /.content-wrapper */}\n      {/* Control Sidebar */}\n      <aside className=\"control-sidebar control-sidebar-dark\">\n        {/* Control sidebar content goes here */}\n      </aside>\n      {/* /.control-sidebar */}\n      <Footer />\n    </div>\n  );\n}\n\nexport default Employee;\n\n$(document).ready(()=>{\n  $(\".test\").click(()=>{\n\n    alert(\"ddd\")\n  })\n})"]},"metadata":{},"sourceType":"module"}