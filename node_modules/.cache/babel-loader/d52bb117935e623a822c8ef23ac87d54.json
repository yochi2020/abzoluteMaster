{"ast":null,"code":"var _jsxFileName = \"/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/component/admin/Navbar.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { auth, firestore } from '../../firebase/config';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction Navbar() {\n  const history = useHistory();\n  const ref = useRef(firestore.collection(\"user\")).current;\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    const authUnsubscibe = auth.onAuthStateChanged(firebaseUser => {\n      if (!!firebaseUser) {\n        ref.doc(firebaseUser.uid).onSnapshot(doc => {\n          if (doc.data()) {\n            const userData = {\n              email: doc.data().email,\n              fname: doc.data().fname,\n              lname: doc.data().lname,\n              name: doc.data().name,\n              phone: doc.data().phone,\n              uid: doc.data().uid,\n              user_group: doc.data().user_group\n            };\n            setUser(userData);\n          } else {\n            history.push(\"/\");\n          }\n        });\n      } else {\n        history.push(\"/\");\n      }\n    });\n    return () => {\n      authUnsubscibe();\n    };\n  });\n\n  const signOutLogin = () => {\n    auth.signOut().then(() => {\n      console.log(\"logout success\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"main-header navbar navbar-expand navbar-white navbar-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"navbar-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"nav-link\",\n    \"data-widget\": \"pushmenu\",\n    role: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-bars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 92\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group\",\n    style: {\n      marginLeft: \"75%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-sm dropdown-toggle\",\n    \"data-toggle\": \"dropdown\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": \"false\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, user.fname), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dropdown-item\",\n    onClick: () => console.log(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dropdown-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"dropdown-item\",\n    onClick: () => {\n      signOutLogin();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"))));\n}\n\nexport default Navbar;","map":{"version":3,"sources":["/Users/chanaphatsuzuki/Desktop/programming/abzolute-master/src/component/admin/Navbar.js"],"names":["React","useEffect","useRef","useState","auth","firestore","Link","useHistory","Navbar","history","ref","collection","current","user","setUser","authUnsubscibe","onAuthStateChanged","firebaseUser","doc","uid","onSnapshot","data","userData","email","fname","lname","name","phone","user_group","push","signOutLogin","signOut","then","console","log","catch","err","marginLeft"],"mappings":"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","sourcesContent":["import React,{useEffect, useRef, useState} from 'react';\nimport {auth,firestore} from '../../firebase/config'\nimport { Link,useHistory } from 'react-router-dom'\nfunction Navbar() {\n    const history = useHistory();\n    const ref = useRef(firestore.collection(\"user\")).current;\n    const [user,setUser]=useState({});\n    useEffect(()=>{\n       const authUnsubscibe= auth.onAuthStateChanged(\n            (firebaseUser)=>{\n                if(!!firebaseUser){\n                    ref.doc(firebaseUser.uid).onSnapshot(doc=>{\n                        if(doc.data()){\n                            const userData = {\n                                email:doc.data().email,\n                                fname:doc.data().fname,\n                                lname:doc.data().lname,\n                                name:doc.data().name,\n                                phone:doc.data().phone,\n                                uid:doc.data().uid,\n                                user_group:doc.data().user_group\n                            }\n                            setUser(userData)\n                        }else{\n                            history.push(\"/\")\n                        }\n                    })\n                }else{\n                    history.push(\"/\")\n                }\n            }\n        )\n        return ()=>{\n            authUnsubscibe()\n        }\n    })\n    const signOutLogin=()=>{\n        auth.signOut()\n        .then(()=>{\n            console.log(\"logout success\")\n        }).catch((err)=>{\n            console.log(err)\n        })\n    }\n    return (\n        <nav className=\"main-header navbar navbar-expand navbar-white navbar-light\">\n            {/* Left navbar links */}\n            <ul className=\"navbar-nav\">\n                <li className=\"nav-item\">\n                    <Link to=\"/\" className=\"nav-link\" data-widget=\"pushmenu\" role=\"button\"><i className=\"fas fa-bars\" /></Link>\n                </li>\n            </ul>\n\n            <div className=\"btn-group\" style={{ marginLeft: \"75%\" }}>\n                <button  type=\"button\" className=\"btn btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {user.fname}\n                </button>\n                <div className=\"dropdown-menu\">\n                    <p className=\"dropdown-item\" onClick={()=>console.log(user)}>ดูข้อมูลส่วนตัว</p>\n                    <p className=\"dropdown-divider\"></p>\n                    <p className=\"dropdown-item\" onClick={()=>{signOutLogin()}}>ออกจากระบบ</p>\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}